<?xml version="1.0" encoding="utf-8"?>

<launch>
    <arg name="number" default="1"/>

    <arg name="depth" value="true"/>

    <!-- Start simulation environment -->
    <include file="$(find baxter_data_acquisition)/launch/simulation.launch">
        <arg name="depth_internal" value="$(arg depth)"/>
        <arg name="depth_external" value="$(arg depth)"/>
    </include>

    <!-- Start recorder servers -->
    <include file="$(find baxter_data_acquisition)/launch/recorder.launch">
        <arg name="kinect" value="$(arg depth)"/>
        <arg name="senz3d" value="$(arg depth)"/>
    </include>

    <!-- Run experiment -->
    <node name="goal" pkg="baxter_data_acquisition" type="goal.py"
          required="true" respawn="false" output="screen" cwd="node"
          args="--limb left --threed $(arg depth) --image true --number $(arg number)"/>
</launch>
